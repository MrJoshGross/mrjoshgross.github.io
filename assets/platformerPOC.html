<!--Import graphics functionality-->

<body>
    <script src="BearcatGraphics.js"></script>
</body>

<script>

    let game, canvas;

    init();

    function init() {
        game = new BearcatPlatformer(800, 800);
        canvas = game.canvas;
        game.setLineThickness(2);
        game.setBackgroundFunction(drawBackground);
        game.createLevel("Level 1", createLevel1);
        game.createLevel("Level 2", createLevel2);
        game.loadLevel("Level 2");
    }

    function createLevel1() {
        game.addTrampoline(canvas.width / 2, canvas.height, canvas.width, 20);
        game.addPlatform(377, 700, 50, 20);
        game.addPlatform(200, 600, 20, 20);
        game.addPlatform(470, 570, 20, 50);
        game.addPlatform(600, 450, 50, 20);
        game.addPlatform(470, 350, 50, 20);
        game.addPlatform(200, 350, 50, 20);
        game.addPlatform(50, 275, 50, 20);
        game.addPlatform(150, 175, 50, 20);
        game.addPlatform(470, 200, 50, 20);
        game.addPlatform(750, 200, 100, 20);
        game.addEnemy(350, 140, 20, 50, BearcatPlatformer.MOVEMENT_AXES.CIRCLE, 5, 50);
        game.addMovingPlatform(90, 540, 50, 50, BearcatPlatformer.MOVEMENT_AXES.FOLLOW, 2, 500);
        game.addMovingTrampoline(90, 540, 50, 20, BearcatPlatformer.MOVEMENT_AXES.HORIZONTAL, 2, 500);
        game.addEnemy(300, 300, 50, 20, BearcatPlatformer.MOVEMENT_AXES.FOLLOW, 2, 200);
        game.addStar(670, 370);
        game.addDoor(755, 162, "Level 2", true);
        game.addFoodTruck(100, 700);
        game.addPlayer(470, 165);
    }

    function createLevel2() {
        game.addPlatform(755, 180);
        // game.addPlatform(400, 180);
        // game.addPlatform(55, 180);
        // game.addPlatform(55, 580);
        // game.addPlatform(255, 480);
        // game.addPlatform(255, 280);
        // game.addPlatform(255, 680);
        // game.addPlatform(455, 680);
        game.addPlatform(530, 530, 200, 20);
        // game.addPlatform(440, 465, 20, 150);
        game.addPlatform(550, 680);
        game.addStar(550, 640);
        game.addStar(40, 360);
        game.addTrampoline(200, 550, 50);
        //game.addPlatform(600, 75, 50, 200);
        game.addMovingPlatform(725, 700, 50, 50, BearcatPlatformer.MOVEMENT_AXES.FOLLOW, 2, 50);
        game.addMovingPlatform(600, 230, 30, 10, BearcatPlatformer.MOVEMENT_AXES.HORIZONTAL, 1, 100);
        game.addEnemy(650, 300, 550, 10, BearcatPlatformer.MOVEMENT_AXES.HORIZONTAL, 0);
        game.addDoor(600, 490, "Level 1");
        game.addPlayer(755, 150, 30, 30, 5, 3).render = (canvas) => {
            canvas.drawMrGross(game.player.x, game.player.y, 0.3, 0.3);
        }
    }

    function drawBackground() {
        canvas.setFillColor("lightblue");
        canvas.drawRectangle(canvas.width / 2, canvas.height / 2, canvas.width, canvas.height);
        canvas.drawMrGross(300, 300);
    }

</script>
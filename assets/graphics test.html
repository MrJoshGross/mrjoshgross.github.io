
<!--Import graphics functionality-->
<script src="BearcatGraphics.js"></script>

<!--YOUR CODE HERE-->
<script>
    // canvas object
    let canvas = null;

    // rotation amount in degrees
    let rotation = 0;

    // array of circles to draw
    let circles = [];
    
    // call to set everything up
    init();

    // function that sets everything up
    function init(){

        // create canvas to display graphics in and do other setup stuff
        canvas = new BearcatGraphics();

        // every frame, call our update function
        canvas.setUpdateFunction(update);

        // set thickness of shape borders
        canvas.setLineThickness(5);

        // get rid of mouse cursor when in window
        canvas.canvasElement.style.cursor = "none";

        // everytime the mouse is clicked, call our mouse click function
        canvas.addEventListener(BearcatGraphics.EVENT_TYPES.CLICK, onMouseClick);
    }

    // when the mouse is clicked
    function onMouseClick(e){

        // create a new circle and add it to the list of circles to show on screen
        circles.push(
            {
                // set circle x coordinate to mouse x coordinate when clicked
                x: canvas.getMouseX(e), 

                // set circle y coordinate to mouse y coordinate when clicked
                y: canvas.getMouseY(e),

                // radius of the circle is a random number between 1 and 100 pixels
                radius: canvas.getRandomInteger(100),

                // color is a random color
                color: canvas.getRandomColor(),

                xAccel: 5.0,

                yAccel: 0.0
            }
        );
    }

    // every frame (1/60th of a second) draw everything
    function update(){
        drawBackground();

        drawAllCircles();

        drawRotatingTriangle();
        
        drawRotatingRectangle();

        drawCursor();

        rotation += 1;
    }

    function drawBackground(){
        canvas.setFillColor("white");
        canvas.drawFilledRectangle(0, 0, canvas.width*2, canvas.height*2);
    }

    function drawAllCircles(){
        for(let circle of circles){
            canvas.setFillColor(circle.color);
            canvas.drawFilledCircle(circle.x, circle.y, circle.radius);
            circle.x += circle.xAccel;
            circle.y += circle.yAccel;
            circle.xAccel *= 0.999;
            circle.yAccel += (9.8/canvas.fps)*0.999;
            if(circle.x < 0 || circle.x > canvas.width) circle.xAccel *=-1;
            if(circle.y < 0 || circle.y > canvas.height) circle.yAccel *=-1;
        }
    }

    function drawRotatingTriangle(){
        canvas.setFillColor("lightblue");
        canvas.drawFillFramedCircle(100, 100, 50);
        canvas.setFillColor("red");
        canvas.drawFillFramedEquilateralTriangle(100, 100, 50, rotation);
        canvas.setFillColor("black");
        canvas.drawFilledCircle(100, 100, 5);
    }

    function drawRotatingRectangle(){
        canvas.setFillColor("lightblue");
        canvas.drawFillFramedCircle(300, 100, 50);
        canvas.setFillColor("red");
        canvas.drawFillFramedRectangle(300, 100, 60, 50, -rotation);
        canvas.setFillColor("black");
        canvas.drawFillFramedCircle(300, 100, 5);
    }

    function drawCursor(){
        if(canvas.mouseIsInScreen()){
            canvas.setFillColor("green");
            canvas.drawFilledCircle(canvas.mouseX, canvas.mouseY, 5);
        }
    }

</script>